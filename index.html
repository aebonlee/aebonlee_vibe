<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pro-Personality Analysis | ì •ë°€ ì„±ê²© ì§„ë‹¨</title>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #4834d4;
            --secondary: #686de0;
            --accent: #ff7979;
            --bg: #f0f2f5;
            --text: #2d3436;
        }

        body {
            font-family: 'Pretendard', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            line-height: 1.6;
            display: flex;
            justify-content: center;
        }

        #app {
            width: 100%;
            max-width: 600px;
            background: white;
            min-height: 100vh;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            padding: 40px 20px;
            box-sizing: border-box;
        }

        .hidden { display: none; }

        /* Progress Bar */
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #dfe6e9;
            border-radius: 10px;
            margin-bottom: 40px;
            position: sticky;
            top: 20px;
        }
        #progress-inner {
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 10px;
            transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        /* Question Section */
        .question-card h2 { font-size: 1.2rem; color: #636e72; margin-bottom: 10px; }
        .question-text { font-size: 1.5rem; font-weight: 700; margin-bottom: 30px; word-break: keep-all; }
        
        .btn-option {
            width: 100%;
            padding: 20px;
            margin-bottom: 15px;
            border: 2px solid #edeff2;
            border-radius: 15px;
            background: white;
            font-size: 1.1rem;
            cursor: pointer;
            transition: 0.2s;
            text-align: left;
        }
        .btn-option:hover {
            border-color: var(--primary);
            background: #f8f9ff;
            transform: translateY(-2px);
        }

        /* Result Section */
        .result-header { text-align: center; margin-bottom: 40px; }
        .result-emoji { font-size: 5rem; display: block; margin-bottom: 10px; }
        .result-mbti { font-size: 3rem; font-weight: 900; color: var(--primary); margin: 0; }
        .result-nickname { font-size: 1.5rem; color: #636e72; }

        .analysis-box {
            background: #f8f9fa;
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 20px;
        }
        .analysis-box h3 { border-left: 5px solid var(--primary); padding-left: 10px; margin-top: 0; }
        .tag-container { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px; }
        .tag { background: white; padding: 5px 12px; border-radius: 20px; font-size: 0.9rem; border: 1px solid #ddd; }

        .point-list { padding-left: 20px; }
        .point-list li { margin-bottom: 10px; }
        .pros { color: #2ecc71; }
        .cons { color: #e74c3c; }

        .restart-btn {
            width: 100%;
            padding: 20px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            margin-top: 30px;
        }
    </style>
</head>
<body>

<div id="app">
    <div id="intro">
        <h1 style="text-align:center; font-size: 2.5rem;">ğŸ§ <br>ì •ë°€ ì„±ê²© ë¶„ì„</h1>
        <p style="text-align:center; color: #636e72;">32ê°œì˜ ë¬¸í•­ì„ í†µí•´ ë‹¹ì‹ ì˜ ì‹¬ë¦¬ ê¸°ì €ì™€<br>í–‰ë™ íŒ¨í„´ì„ ì‹¬ì¸µ ë¶„ì„í•©ë‹ˆë‹¤.</p>
        <button class="restart-btn" onclick="startTest()">ë¶„ì„ ì‹œì‘í•˜ê¸°</button>
    </div>

    <div id="quiz" class="hidden">
        <div class="progress-bar"><div id="progress-inner"></div></div>
        <div class="question-card">
            <h2 id="q-num">Q.01</h2>
            <div id="q-text" class="question-text">ì§ˆë¬¸ ë¡œë”© ì¤‘...</div>
            <div id="options">
                <button class="btn-option" onclick="handleAnswer('A')" id="opt-a">ì„ íƒì§€ A</button>
                <button class="btn-option" onclick="handleAnswer('B')" id="opt-b">ì„ íƒì§€ B</button>
            </div>
        </div>
    </div>

    <div id="result" class="hidden">
        <div class="result-header">
            <span class="result-emoji" id="res-emoji">ğŸš€</span>
            <h1 class="result-mbti" id="res-mbti">ENTP</h1>
            <div class="result-nickname" id="res-nickname">ëœ¨ê±°ìš´ ë…¼ìŸì„ ì¦ê¸°ëŠ” ë³€ë¡ ê°€</div>
        </div>

        <div class="analysis-box">
            <h3>ğŸ’¡ ì£¼ìš” íŠ¹ì§•</h3>
            <div id="res-tags" class="tag-container"></div>
            <p id="res-desc" style="margin-top:15px;"></p>
        </div>

        <div class="analysis-box">
            <h3 class="pros">âœ… ê°•ì  (Strengths)</h3>
            <ul id="res-pros" class="point-list"></ul>
        </div>

        <div class="analysis-box">
            <h3 class="cons">âš ï¸ ì•½ì  (Weaknesses)</h3>
            <ul id="res-cons" class="point-list"></ul>
        </div>

        <div class="analysis-box" style="border: 2px dashed var(--accent);">
            <h3>ğŸ› ï¸ ì„±ì¥ ë³´ì™„ì </h3>
            <ul id="res-advice" class="point-list"></ul>
        </div>

        <button class="restart-btn" onclick="location.reload()">í…ŒìŠ¤íŠ¸ ë‹¤ì‹œí•˜ê¸°</button>
    </div>
</div>

<script>
    /* 1. ì§ˆë¬¸ ë°ì´í„°ë² ì´ìŠ¤ (32ë¬¸í•­) */
    const questions = [
        // E vs I (8ë¬¸í•­)
        { q: "ìƒˆë¡œìš´ ì‚¬ëŒë“¤ê³¼ ê°€ë“ ì°¬ íŒŒí‹°ì— ê°”ì„ ë•Œ ë‚˜ëŠ”?", a: "ëª¨ë¥´ëŠ” ì‚¬ëŒì—ê²Œë„ ì‰½ê²Œ ë§ì„ ê±¸ë©° ì¦ê¸´ë‹¤", b: "ì•„ëŠ” ì‚¬ëŒë“¤ ê³ì— ë¨¸ë¬¼ë©° ì¡°ìš©íˆ ê´€ì°°í•œë‹¤", type: "EI" },
        { q: "ì—ë„ˆì§€ê°€ ë°©ì „ë˜ì—ˆì„ ë•Œ ì¶©ì „í•˜ëŠ” ë°©ë²•ì€?", a: "ì¹œêµ¬ë“¤ì„ ë§Œë‚˜ ìˆ˜ë‹¤ë¥¼ ë–¨ë©° í‘¼ë‹¤", b: "í˜¼ì ë°©ì—ì„œ ë„·í”Œë¦­ìŠ¤ë¥¼ ë³´ë©° ì‰°ë‹¤", type: "EI" },
        // ... (ì¤‘ëµ: ì‹¤ì œ êµ¬í˜„ì‹œ 32ê°œ ë°°ì¹˜)
        // S vs N (8ë¬¸í•­)
        { q: "ì‚¬ê³¼ë¥¼ ë³´ë©´ ë“œëŠ” ìƒê°ì€?", a: "ë¹¨ê°›ê³  ë§›ìˆê² ë‹¤. ì•„ì‚­í•œ ì‹ê°ì´ ë– ì˜¤ë¥¸ë‹¤.", b: "ìŠ¤í‹°ë¸Œ ì¡ìŠ¤, ë°±ì„¤ê³µì£¼, ë‰´í„´ì˜ ì‚¬ê³¼ê°€ ë– ì˜¤ë¥¸ë‹¤.", type: "SN" },
        // T vs F (8ë¬¸í•­)
        { q: "ì¹œêµ¬ê°€ 'ë‚˜ ìš°ìš¸í•´ì„œ ì‡¼í•‘í–ˆì–´'ë¼ê³  í•œë‹¤ë©´?", a: "ë­ ìƒ€ì–´? ì˜ˆìœ ê±° ìƒ€ì–´?", b: "ì™œ ìš°ìš¸í–ˆì–´? ë¬´ìŠ¨ ì¼ ìˆì—ˆì–´?", type: "TF" },
        // J vs P (8ë¬¸í•­)
        { q: "ì—¬í–‰ì„ ê°€ê¸° ì „ ë‚˜ì˜ ëª¨ìŠµì€?", a: "ì‹œê°„ ë‹¨ìœ„ë¡œ ê³„íšì„ ì§œì•¼ ë§ˆìŒì´ í¸í•˜ë‹¤", b: "ìˆ™ì†Œë§Œ ì •í•˜ê³  ë‚˜ë¨¸ì§€ëŠ” ê°€ì„œ ìƒê°í•œë‹¤", type: "JP" }
    ];

    // í…ŒìŠ¤íŠ¸ìš© 32ë¬¸í•­ í™•ì¥ (ë°ì´í„° ì˜ˆì‹œ ì¤‘ë³µ í¬í•¨)
    while(questions.length < 32) questions.push({...questions[Math.floor(Math.random()*4)]});

    /* 2. ê²°ê³¼ í•´ì„¤ ë°ì´í„°ë² ì´ìŠ¤ */
    const resultDB = {
        "ENFP": {
            emoji: "âœ¨", nickname: "ì¬ê¸°ë°œë„í•œ í™œë™ê°€",
            tags: ["ì°½ì˜ì ", "ì—´ì •ì ", "ììœ ë¡œìš´ì˜í˜¼", "ì‚¬êµê°€"],
            desc: "íƒ€ì¸ê³¼ ì •ì„œì ìœ¼ë¡œ êµê°í•˜ë©° ì—ë„ˆì§€ë¥¼ ì–»ëŠ” ìœ í˜•ì…ë‹ˆë‹¤. ê°€ëŠ¥ì„±ì„ í¬ì°©í•˜ëŠ” ëŠ¥ë ¥ì´ ë›°ì–´ë‚©ë‹ˆë‹¤.",
            pros: ["ì–´ë–¤ í™˜ê²½ì—ì„œë„ ì ì‘ì´ ë¹ ë¦„", "íƒ€ì¸ì˜ ì ì¬ë ¥ì„ ë°œê²¬í•´ì¤Œ", "ê³µê° ëŠ¥ë ¥ì´ ë§¤ìš° ë›°ì–´ë‚¨"],
            cons: ["ë°˜ë³µì ì¸ ì¼ìƒ ì—…ë¬´ì— ì‰½ê²Œ ì§ˆë¦¼", "ê°ì • ê¸°ë³µì´ ì‹¬í•´ì§ˆ ìˆ˜ ìˆìŒ", "ê²°ì • ì¥ì• ë¥¼ ê²ªëŠ” ê²½ìš°ê°€ ë§ìŒ"],
            advice: ["ì„¸ë¶€ ì‚¬í•­ì„ ëê¹Œì§€ ì±™ê¸°ëŠ” ì—°ìŠµì´ í•„ìš”í•©ë‹ˆë‹¤.", "ê°ì •ì— ì••ë„ë  ë•Œ ê°ê´€ì ì¸ ì‚¬ì‹¤ì„ ë³´ëŠ” í›ˆë ¨ì„ í•˜ì„¸ìš”."]
        },
        "ISTJ": {
            emoji: "ğŸ›¡ï¸", nickname: "ì²­ë ´ê²°ë°±í•œ ë…¼ë¦¬ì£¼ì˜ì",
            tags: ["ì±…ì„ê°", "ì² ì €í•¨", "í˜„ì‹¤ì ", "ë³´ìˆ˜ì "],
            desc: "ê°€ì •ì´ë‚˜ ì¡°ì§ ë‚´ì—ì„œ í•µì‹¬ì ì¸ ì—­í• ì„ ìˆ˜í–‰í•˜ë©° ì§ˆì„œì™€ ê·œì¹™ì„ ì¤€ìˆ˜í•˜ëŠ” ê²ƒì„ ì„ í˜¸í•©ë‹ˆë‹¤.",
            pros: ["ë§¡ì€ ì¼ì€ ëê¹Œì§€ ì™„ìˆ˜í•¨", "ê¸°ì–µë ¥ì´ ì¢‹ê³  ì •í™•í•¨", "ê°ì •ì— ì¹˜ìš°ì¹˜ì§€ ì•ŠëŠ” ê³µì •í•œ íŒë‹¨"],
            cons: ["ë³€í™”ì— ë‹¤ì†Œ ë³´ìˆ˜ì ì¼ ìˆ˜ ìˆìŒ", "íƒ€ì¸ì˜ ê°ì •ì  í˜¸ì†Œë¥¼ ì´í•´í•˜ê¸° í˜ë“¤ì–´í•¨", "ì§€ë‚˜ì¹˜ê²Œ ì›ì¹™ì— ì–½ë§¤ì„"],
            advice: ["ìƒˆë¡œìš´ ë°©ì‹ì˜ íš¨ìœ¨ì„±ì„ ì¸ì •í•˜ë ¤ ë…¸ë ¥í•´ë³´ì„¸ìš”.", "ê°€ë”ì€ íƒ€ì¸ì˜ ê°ì •ì„ ë…¼ë¦¬ë³´ë‹¤ ìš°ì„ ì‹œí•´ ë³´ì„¸ìš”."]
        },
        // ë‚˜ë¨¸ì§€ ìœ í˜• ìƒëµ... (ì‹¤ì œ ì„œë¹„ìŠ¤ì‹œ 16ê°œ ì „ì²´ êµ¬ì¶•)
    };

    let currentIdx = 0;
    let scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };

    function startTest() {
        document.getElementById('intro').classList.add('hidden');
        document.getElementById('quiz').classList.remove('hidden');
        renderQuestion();
    }

    function renderQuestion() {
        const q = questions[currentIdx];
        document.getElementById('q-num').innerText = `Q.${String(currentIdx + 1).padStart(2, '0')}`;
        document.getElementById('q-text').innerText = q.q;
        document.getElementById('opt-a').innerText = q.a;
        document.getElementById('opt-b').innerText = q.b;
        document.getElementById('progress-inner').style.width = `${(currentIdx / questions.length) * 100}%`;
        window.scrollTo(0,0);
    }

    function handleAnswer(choice) {
        const type = questions[currentIdx].type;
        if (choice === 'A') scores[type[0]]++;
        else scores[type[1]]++;

        currentIdx++;
        if (currentIdx < questions.length) renderQuestion();
        else calculateResult();
    }

    function calculateResult() {
        let mbti = "";
        mbti += scores.E >= scores.I ? "E" : "I";
        mbti += scores.S >= scores.N ? "S" : "N";
        mbti += scores.T >= scores.F ? "T" : "F";
        mbti += scores.J >= scores.P ? "J" : "P";

        showResult(mbti);
    }

    function showResult(mbti) {
        document.getElementById('quiz').classList.add('hidden');
        const resView = document.getElementById('result');
        resView.classList.remove('hidden');

        const data = resultDB[mbti] || resultDB["ENFP"]; // ì˜ˆì‹œìš© ê¸°ë³¸ê°’

        document.getElementById('res-mbti').innerText = mbti;
        document.getElementById('res-emoji').innerText = data.emoji;
        document.getElementById('res-nickname').innerText = data.nickname;
        document.getElementById('res-desc').innerText = data.desc;

        // Tags
        const tagContainer = document.getElementById('res-tags');
        tagContainer.innerHTML = data.tags.map(t => `<span class="tag">#${t}</span>`).join('');

        // Pros, Cons, Advice
        const renderList = (id, list) => {
            document.getElementById(id).innerHTML = list.map(item => `<li>${item}</li>`).join('');
        };
        renderList('res-pros', data.pros);
        renderList('res-cons', data.cons);
        renderList('res-advice', data.advice);

        window.scrollTo(0,0);
    }
</script>

</body>
</html>
