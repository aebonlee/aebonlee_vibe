<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>âœ¨ ë‚˜ë§Œì˜ ì„±ê²© ìœ í˜• ì°¾ê¸° âœ¨</title>
    <style>
        :root {
            --primary: #6c5ce7;
            --bg: #f9f9fb;
            --card: #ffffff;
        }
        body { font-family: 'Pretendard', sans-serif; background-color: var(--bg); margin: 0; display: flex; flex-direction: column; align-items: center; }
        
        /* Layout */
        #test-container { max-width: 500px; width: 90%; margin: 50px auto; text-align: center; }
        .hidden { display: none; }

        /* Progress Bar */
        .progress-container { width: 100%; height: 10px; background: #eee; border-radius: 5px; margin-bottom: 30px; }
        #progress { width: 0%; height: 100%; background: var(--primary); border-radius: 5px; transition: 0.3s; }

        /* Card Style */
        .card { background: var(--card); padding: 30px; border-radius: 20px; box-shadow: 0 10px 20px rgba(0,0,0,0.05); margin-bottom: 20px; }
        button { 
            width: 100%; padding: 15px; margin: 10px 0; border: none; border-radius: 12px; 
            background: #f0f0f6; cursor: pointer; font-size: 16px; transition: 0.2s;
        }
        button:hover { background: var(--primary); color: white; transform: translateY(-2px); }

        /* Result Style */
        #result-emoji { font-size: 80px; margin-bottom: 10px; }
        #result-title { font-size: 24px; font-weight: bold; color: var(--primary); }
    </style>
</head>
<body>

<div id="test-container">
    <div id="start-screen" class="card">
        <h1>ğŸ” MBTI í…ŒìŠ¤íŠ¸</h1>
        <p>32ê°œì˜ ë¬¸í•­ìœ¼ë¡œ ë‚˜ì˜ ì§„ì§œ ëª¨ìŠµì„ ì°¾ì•„ë³´ì„¸ìš”!</p>
        <button onclick="startTest()">í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°</button>
    </div>

    <div id="quiz-screen" class="hidden">
        <div class="progress-container"><div id="progress"></div></div>
        <div class="card">
            <h2 id="question-number">Q1.</h2>
            <p id="question-text">ì§ˆë¬¸ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</p>
            <div id="options">
                <button onclick="answer(1)" id="opt1">ì„ íƒì§€ 1</button>
                <button onclick="answer(0)" id="opt2">ì„ íƒì§€ 2</button>
            </div>
        </div>
    </div>

    <div id="result-screen" class="hidden card">
        <h2>ì‹¬ë¦¬ë¶„ì„ ê²°ê³¼</h2>
        <div id="result-emoji">ğŸ¤”</div>
        <div id="result-title">ìœ í˜• ì´ë¦„</div>
        <p id="result-desc">ìƒì„¸ ì„¤ëª…ì´ ì—¬ê¸°ì— ë“¤ì–´ê°‘ë‹ˆë‹¤.</p>
        <button onclick="location.reload()">ë‹¤ì‹œ í•˜ê¸° ğŸ”„</button>
    </div>
</div>

<script>
    // 32ê°œ ë¬¸í•­ (ì˜ˆì‹œ ë°ì´í„° - 4ê°€ì§€ ì§€í‘œë³„ë¡œ 8ë¬¸ì œì”©)
    const questions = [
        { q: "ì£¼ë§ì— ë‚˜ëŠ”?", a: "ì‚¬ëŒë“¤ì„ ë§Œë‚˜ë©° ì—ë„ˆì§€ë¥¼ ì–»ëŠ”ë‹¤", b: "ì§‘ì—ì„œ í˜¼ì ì‰¬ëŠ” ê²Œ ìµœê³ ë‹¤", type: "EI" },
        { q: "ìƒˆë¡œìš´ ì‚¬ëŒì„ ë§Œë‚  ë•Œ?", a: "ë¨¼ì € ë§ì„ ê±°ëŠ” í¸ì´ë‹¤", b: "ìƒëŒ€ë°©ì´ ë§ì„ ê±¸ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤", type: "EI" },
        // ... ì‹¤ì œ ê°œë°œ ì‹œ 32ê°œë¥¼ ì±„ì›Œì£¼ì„¸ìš”!
    ];

    let currentIdx = 0;
    let score = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };

    function startTest() {
        document.getElementById('start-screen').classList.add('hidden');
        document.getElementById('quiz-screen').classList.remove('hidden');
        showQuestion();
    }

    function showQuestion() {
        const q = questions[currentIdx];
        document.getElementById('question-number').innerText = `Q${currentIdx + 1}.`;
        document.getElementById('question-text').innerText = q.q;
        document.getElementById('opt1').innerText = q.a;
        document.getElementById('opt2').innerText = q.b;
        document.getElementById('progress').style.width = `${((currentIdx) / questions.length) * 100}%`;
    }

    function answer(isA) {
        const type = questions[currentIdx].type;
        if (isA) score[type[0]]++;
        else score[type[1]]++;

        currentIdx++;
        if (currentIdx < questions.length) showQuestion();
        else showResult();
    }

    function showResult() {
        document.getElementById('quiz-screen').classList.add('hidden');
        const res = document.getElementById('result-screen');
        res.classList.remove('hidden');

        let mbti = "";
        mbti += score.E >= score.I ? "E" : "I";
        mbti += score.S >= score.N ? "S" : "N";
        mbti += score.T >= score.F ? "T" : "F";
        mbti += score.J >= score.P ? "J" : "P";

        const data = {
            "ENFP": { emoji: "ğŸ¨", title: "ì¬ê¸°ë°œë„í•œ í™œë™ê°€", desc: "ììœ ë¡œìš´ ì˜í˜¼ì´ë©° ì°½ì˜ì ì…ë‹ˆë‹¤!" },
            "ISTJ": { emoji: "ğŸ“", title: "ì²­ë ´ê²°ë°±í•œ ë…¼ë¦¬ì£¼ì˜ì", desc: "ì§ˆì„œì™€ ê·œì¹™ì„ ì¤‘ì‹œí•˜ëŠ” í˜„ì‹¤ì£¼ì˜ìì…ë‹ˆë‹¤." },
            // ë‚˜ë¨¸ì§€ 14ê°œ ìœ í˜•ë„ ì—¬ê¸°ì— ì¶”ê°€
        };

        const result = data[mbti] || { emoji: "âœ¨", title: mbti, desc: "ë‹¹ì‹ ì€ ì•„ì£¼ íŠ¹ë³„í•œ ì„±ê²©ì˜ ì†Œìœ ìêµ°ìš”!" };
        document.getElementById('result-emoji').innerText = result.emoji;
        document.getElementById('result-title').innerText = `${mbti} - ${result.title}`;
        document.getElementById('result-desc').innerText = result.desc;
    }
</script>
</body>
</html>
